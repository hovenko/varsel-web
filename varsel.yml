---
name: Varsel

authentication:
    default_realm:  members
    realms:
        # This section is used to authenticate regular users
        # who register forecast notices in this system.
        members:
            credential:
                class:              Password
                password_field:     password
                password_type:      hashed
                password_hash_type: "SHA-1"
                password_pre_salt:  "ikke-fullt-hemmelig-salt"
            store:
                class:              DBIx::Class
                user_class:         YRDB::Profile
                id_field:           email

        # This section is used for automatically logging users in
        # the first time they verify their user account.
        verify:
            credential:
                class:              Password
                password_type:      none
            store:
                class:              DBIx::Class
                user_class:         YRDB::Profile
                id_field:           email

        # This section is to only allow certain hosts to access the backend
        # functionality of this system.
        scheduler:
            credential:
                class:          '+Varsel::Authentication::Credential::Exists'
            store:
                class:          '+Varsel::Authentication::Store::Network'
                subnets:
                    -   network:    "127.0.0.1"
                        cidr:       8

locale: nb_NO

Model::GoogleMaps:
    key:    "ABQIAAAAA3EdiJ5OJBl-sShPqrkj5RTJQa0g3IQ9GZqIMmInSLzwtGDKaBR6oAunersCU9cry7_-imOexnZ8_g"

Model::Profile::Email:
    from:       'Værvarsel <hovenko@linpro.no>'
    subject:    'Velkommen til værvarsling rett hjem'

Model::YRDB:
    connect_info:
      - dbi:mysql:varsel
      - varsel
      - varsel

Model::Forecast::Email::First:
    from:       'Værvarsel <root@localhost>'
    subject:    'Værvarselet ditt er klart'

Model::Forecast::Email::Changes:
    from:       'Værvarsel <root@localhost>'
    subject:    'Endring i værvarselet'

Model::Forecast::Email::Last:
    from:       'Værvarsel <root@localhost>'
    subject:    'Siste oppdatering av værvarselet'

View::Email:
    sender:
        mailer:         SMTP
        mailer_args:
            Host:       localhost

Controller::Register:
    default_input_email:    'Din e-postadresse'

